<?xml version="1.0"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>GlusterFS blog posts - @aravindavk</title>
    <link>http://aravindavk.in</link>
    <atom:link href="http://aravindavk.in/tag-glusterfs.xml" rel="self" type="application/rss+xml" />
    <description>GlusterFS related blogs - Aravinda VK</description>
    <language>en-us</language>
    <pubDate>Tue, 18 Jun 2013 18:33:24 +0530</pubDate>
    <lastBuildDate>Tue, 18 Jun 2013 18:33:24 +0530</lastBuildDate>

    
    
    
    <item>
      <title>GlusterFS Tools</title>
      <link>http://aravindavk.in/blog/glusterfs-tools</link>
      <pubDate>Tue, 18 Jun 2013 00:00:00 +0530</pubDate>
      <author>mail@aravindavk.in (Aravinda)</author>
      <guid>http://aravindavk.in/blog/glusterfs-tools</guid>
      <description>&lt;p&gt;From &lt;a href=&quot;http://gluster.org&quot;&gt;GlusterFS website&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;GlusterFS is an open source, distributed file system capable of scaling to several petabytes (actually, 72 brontobytes!) and handling thousands of clients. GlusterFS clusters together storage building blocks over Infiniband RDMA or TCP/IP interconnect, aggregating disk and memory resources and managing data in a single global namespace. GlusterFS is based on a stackable user space design and can deliver exceptional performance for diverse workloads.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Gluster CLI has limited features to view and filter the volume info. I started a small project to enhance Gluster CLI for personal use. As of now it consists of a tool to list Gluster volumes in tabular format. Other intersesting features includes filtering the output based on name, type, status, bricks etc.&lt;/p&gt;

&lt;p&gt;Clone the project(I cloned it to &lt;code&gt;/home/aravinda/sandbox/&lt;/code&gt;)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /home/aravinda/sandbox
git clone https://github.com/aravindavk/glusterfs-tools.git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Create a shellscript to call gftools /usr/local/bin/gfvolumes&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;
python /home/aravinda/sandbox/glusterfs-tools/gftools/volumes.py &lt;span class=&quot;s2&quot;&gt;&amp;quot;$@&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Make gfvolumes executable&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;chmod +x /usr/local/bin/gfvolumes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now we can run &lt;code&gt;sudo gfvolumes&lt;/code&gt; to see the list of glusterfs volumes. Type &lt;code&gt;gfvolumes --help&lt;/code&gt; for help.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/photo/glusterfs/all_volumes.png&quot; alt=&quot;All Volumes&quot; /&gt;
&lt;span class=&quot;imgCaption&quot;&gt;All Volumes&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;sep clear&quot;&gt;&lt;/div&gt;


&lt;div class=&quot;sep clear&quot;&gt;&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/photo/glusterfs/name_filter.png&quot; alt=&quot;Name Filter&quot; /&gt;
&lt;span class=&quot;imgCaption&quot;&gt;Name Filter&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;sep clear&quot;&gt;&lt;/div&gt;


&lt;div class=&quot;sep clear&quot;&gt;&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/photo/glusterfs/status_filter.png&quot; alt=&quot;Status Filter&quot; /&gt;
&lt;span class=&quot;imgCaption&quot;&gt;Status Filter&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;sep clear&quot;&gt;&lt;/div&gt;


&lt;div class=&quot;sep clear&quot;&gt;&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/photo/glusterfs/type_filter.png&quot; alt=&quot;Type Filter&quot; /&gt;
&lt;span class=&quot;imgCaption&quot;&gt;Type Filter&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;sep clear&quot;&gt;&lt;/div&gt;


&lt;div class=&quot;sep clear&quot;&gt;&lt;/div&gt;


&lt;p&gt;&lt;img src=&quot;/photo/glusterfs/show_bricks.png&quot; alt=&quot;Name Filter&quot; /&gt;
&lt;span class=&quot;imgCaption&quot;&gt;Show Bricks&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;sep clear&quot;&gt;&lt;/div&gt;


&lt;div class=&quot;sep clear&quot;&gt;&lt;/div&gt;


&lt;p&gt;Additionally it can output filtered details in JSON format.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/photo/glusterfs/json_format.png&quot; alt=&quot;Name Filter&quot; /&gt;
&lt;span class=&quot;imgCaption&quot;&gt;JSON Format&lt;/span&gt;&lt;/p&gt;

&lt;div class=&quot;sep clear&quot;&gt;&lt;/div&gt;


&lt;div class=&quot;sep clear&quot;&gt;&lt;/div&gt;


&lt;p&gt;We can easily import this in our python script.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;python&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/usr/bin/python&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;gftools&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;volumes&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;gfvols&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GfVolumes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;    
&lt;span class=&quot;n&quot;&gt;ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vols&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gfvols&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;^gv[0-9]$&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;down&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# Various filters available&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# Do action&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; root permission is required to run gluster command, so run gfvolumes as root(&lt;code&gt;sudo gfvolumes&lt;/code&gt;)&lt;/p&gt;

&lt;h2&gt;Future plans:&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;Adding more filters&lt;/li&gt;
&lt;li&gt;Adding more admin tools&lt;/li&gt;
&lt;li&gt;Creating RPM/DEB packages&lt;/li&gt;
&lt;/ol&gt;


&lt;div class=&quot;sep clear&quot;&gt;&lt;/div&gt;


&lt;div class=&quot;sep clear&quot;&gt;&lt;/div&gt;


&lt;p&gt;C &amp;amp; S Welcome.&lt;/p&gt;
</description>
    </item>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

  </channel>
</rss>
